-- BASO Network Font Fix
hook.Add("InitPostEntity", "FixBasoFonts", function()
    timer.Simple(1, function()
        -- BASO'nun kullandığı fontları tahmin et ve düzelt
        local baso_fonts = {
            ["Baso.Font.Regular"] = {
                font = "Roboto",
                size = 20,
                weight = 400,
                antialias = true
            },
            ["Baso.Font.Bold"] = {
                font = "Roboto",
                size = 20,
                weight = 700,
                antialias = true
            },
            ["Baso.Font.Small"] = {
                font = "Roboto",
                size = 16,
                weight = 400,
                antialias = true
            },
            ["Baso.Font.Large"] = {
                font = "Roboto",
                size = 24,
                weight = 500,
                antialias = true
            },
            ["Baso.Font.Title"] = {
                font = "Roboto",
                size = 28,
                weight = 700,
                antialias = true
            }
        }
        
        -- Fontları oluştur
        for name, data in pairs(baso_fonts) do
            surface.CreateFont(name, data)
        end
        
        -- DarkRP fontlarını da düzelt
        local darkrp_fonts = {
            ["DarkRPHUD1"] = {size = 23, weight = 600},
            ["DarkRPHUD2"] = {size = 20, weight = 600},
            ["UiBold"] = {size = 16, weight = 800},
            ["HUDNumber5"] = {size = 30, weight = 800},
            ["ScoreboardDefault"] = {size = 22, weight = 800},
            ["ScoreboardDefaultTitle"] = {size = 32, weight = 800}
        }
        
        for name, data in pairs(darkrp_fonts) do
            data.font = data.font or "Tahoma"
            data.antialias = true
            surface.CreateFont(name, data)
        end
    end)
end)

-- Render scale düzeltmesi
local function GetFontScale()
    local scale = math.min(ScrW() / 1920, ScrH() / 1080)
    return math.Clamp(scale, 0.8, 1.2)
end

-- Font boyutlarını otomatik düzelt
hook.Add("OnScreenSizeChanged", "AutoFixFontScale", function()
    notification.AddLegacy("Font sistemi yeniden yükleniyor...", NOTIFY_HINT, 3)
    timer.Simple(0.5, function()
        RunConsoleCommand("retry")
    end)
end)